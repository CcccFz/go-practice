{
  "kind": "PersistentVolume",
  "spec": {
    "accessModes": [
      "ReadWriteOnce"
    ],
    "rbd": {
      "secretRef": {
        "name": "ceph-secret"
      },
      "image": "xiaofan.es",
      "fsType": "ext4",
      "readOnly": false,
      "user": "admin",
      "monitors": [
        "x.x.x.x:6789",
        "x.x.x.x:6789",
        "x.x.x.x:6789"
      ],
      "pool": "rrkd.rbd"
    },
    "capacity": {
      "storage": "0.50Gi"
    },
    "persistentVolumeReclaimPolicy": "Recycle"
  },
  "apiVersion": "v1",
  "metadata": {
    "labels": {
      "storage": "xiaofan-dsf"
    },
    "name": "xiaofan-dsf-pv"
  }
}

{
  "kind": "PersistentVolumeClaim",
  "spec": {
    "accessModes": [
      "ReadWriteOnce"
    ],
    "resources": {
      "requests": {
        "storage": "0.25Gi"
      }
    },
    "selector": {
      "matchLabels": {
        "storage": "xiaofan-dsf"
      }
    }
  },
  "apiVersion": "v1",
  "metadata": {
    "name": "xiaofan-dsf-claim"
  }
}

{
  "kind": "Deployment",
  "spec": {
    "replicas": "1",
    "template": {
      "spec": {
        "volumes": [
          {
            "name": "xiaofan-dsf",
            "persistentVolumeClaim": {
              "claimName": "xiaofan-dsf-claim"
            }
          }
        ],
        "imagePullSecrets": [
          {
            "name": "registrykey-m4-1"
          }
        ],
        "containers": [
          {
            "image": "reg.rrkd.cn/nginx/rrkd-nginx:1.0",
            "volumeMounts": [
              {
                "readOnly": false,
                "mountPath": "/mnt",
                "name": "xiaofan-dsf"
              }
            ],
            "name": "xiaofan-dsf",
            "resources": {
              "requests": {
                "cpu": "100m",
                "memory": "100Mi"
              },
              "limits": {
                "cpu": "200m",
                "memory": "200Mi"
              }
            },
            "ports": [
              {
                "protocol": "TCP",
                "containerPort": 80
              }
            ]
          }
        ]
      },
      "metadata": {
        "labels": {
          "name": "xiaofan-dsf"
        }
      }
    },
    "selector": {
      "matchLabels": {
        "name": "xiaofan-dsf"
      }
    }
  },
  "apiVersion": "extensions/v1beta1",
  "metadata": {
    "labels": {
      "name": "xiaofan-dsf"
    },
    "name": "xiaofan-dsf"
  }
}

{
  "kind": "Service",
  "spec": {
    "type": "NodePort",
    "ports": [
      {
        "targetPort": 80,
        "protocol": "TCP",
        "port": 80
      }
    ],
    "selector": {
      "name": "xiaofan-dsf"
    }
  },
  "apiVersion": "v1",
  "metadata": {
    "labels": {
      "name": "xiaofan-dsf"
    },
    "name": "xiaofan-dsf"
  }
}